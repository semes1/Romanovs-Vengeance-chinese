^Miner:
	Inherits: ^Vehicle
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Inherits@SELECTION_MODE: ^LowPrioritySelectionMode
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 10
		Prerequisites: refinery, ~!global-megawealth, ~techlevel.1
		Description: 采集矿物和宝石\n\n免疫辐射\n\n·无武装
		BuildDuration: 625
		BuildDurationModifier: 100
	Valued:
		Cost: 1400
	DeliversCash:
		Payload: 1400
		Voice: Move
	Tooltip:
		Name: 采矿车
	Tooltip@NoRow:
		Name: 采矿车
	Selectable:
		Priority: 7
		Bounds: 1544, 2509, 0, -289
	Harvester:
		DeliveryBuildings: garefn, garefb, garefc, garefd, narefn, narefb, narefc, narefd, yarfn2, yarfnb, yarfnc, yarfnd
		Capacity: 40
		Resources: Ore, Gems
		BaleLoadDelay: 12
		BaleUnloadDelay: 1
		HarvestVoice: Harvest
		DeliverVoice: Move
		EmptyCondition: no-ore
	Explodes:
		RequiresCondition: no-ore
	Explodes@Ore:
		DeathTypes: NonTemporal
		Weapon: MinerExplode
		RequiresCondition: !no-ore
	Health:
		HP: 100000
	Armor:
		Type: Medium
	ChangesHealth:
		PercentageStep: 1
		Step: 0
		Delay: 100
		DamageCooldown: 100
		StartIfBelow: 100
	Mobile:
		Speed: 60
		TurnSpeed: 32
		Locomotor: heavytracked
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	WithHarvestOverlay:
		LocalOffset: 121,0,0
		Palette: effect
	RenderSprites:
	RenderVoxels:
	WithVoxelUnloadBody:
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
	HitShape:
	GpsDotAS:
		Sequence: Harvester
	WithHarvesterPipsDecoration:
		Margin: 4, 3
		Palette: ra
		Position: BottomLeft
		RequiresSelection: true
		PipCount: 7
		ResourceSequences:
			Ore: pip-yellow
			Gems: pip-blue

^ConstructionVehicle:
	Inherits: ^Vehicle
	Inherits@AI: ^AIMicroManagable
	Inherits@CHAOS: ^BerserkableVoxel
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Inherits@SELECTION_MODE: ^LowPrioritySelectionMode
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 50
		Description: 部署成为一个建筑工厂\n\n建筑工厂将提供一个基础建筑生产排程\n建筑工厂将提供一个防御建筑生产排程\n仅能提供与对应阵营相同的建筑排程\n建筑工厂将提供建筑范围\n被恐怖机器人寄生后将无法部署
		Prerequisites: ~techlevel.2, ~!global-suddendeath, ~!ai.mcv
		BuildDuration: 1125
		BuildDurationModifier: 100
	Valued:
		Cost: 4000
	DeliversCash:
		Payload: 4000
		Voice: Move
	Tooltip:
		Name: 移动基地车
	Tooltip@NoRow:
		Name: 移动基地车
	Selectable:
		Priority: 4
		Bounds: 1544, 2509, 0, -289
	Health:
		HP: 160000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 60
		TurnSpeed: 20
		Locomotor: heavytracked
	-Crushable:
	-Crushable@Cheater:
	-Crushable@Vengeful:
	Capturable:
		RequiresCondition: !suddendeath
	Capturable@PERMAMC:
		RequiresCondition: !controlled && !permamc && !suddendeath
	WithIdleOverlay@mindcontrol:
		RequiresCondition: (controlled || permamc) && !suddendeath
	Targetable@MC:
		RequiresCondition: !controlled && !permamc && !suddendeath
	MustBeDestroyed:
		RequiredForShortGame: true
		-RequiresCondition:
	Guard:
		Voice: Move
	Passenger:
		Weight: 6
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	BaseBuilding:
	Transforms:
		Voice: Move
		IntoActor: cnst
		Offset: -1,-1
		Facing: 384
		TransformSounds: uplace.wav
		NoTransformNotification: BuildingCannotPlaceAudio
		PauseOnCondition: chronodisable || emp || terrordroned || controlled
	TransferTimedExternalConditionOnTransform@INVULNERABILITY:
		Condition: invulnerability
	TransferTimedExternalConditionOnTransform@INVISIBILITY:
		Condition: invisibility
	RenderSprites:
	RenderVoxels:
	WithVoxelBody:
	HitShape:
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
	GrantConditionOnMovement@MoveStart:
		Condition: moving
		ValidMovementTypes: Horizontal, Turn
	SoundAnnouncement:
		SoundFiles: vmcvstaa.wav
		Volume: 0.4
		RequiresCondition: moving
	ProvidesPrerequisite@AIbuildinglimit:
		RequiresCondition: ai-control
		Prerequisite: ai.mcv

^ExpansionVehicle:
	Inherits: ^Vehicle
	Inherits@AI: ^AIMicroManagable
	Inherits@AUTOTARGETAI: ^AutoTargetGroundAssaultMove
	Inherits@CHAOS: ^BerserkableVoxel
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation50Percent
	Inherits@SELECTION_MODE: ^LowPrioritySelectionMode
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 60
		Description: 一次性基地扩张载具\n\n扩张前哨站将提供建造范围\n扩张前哨站不可重新打包回前哨扩张车\n被恐怖机器人寄生后将无法部署
		Prerequisites: repairpad, ~techlevel.2, ~!ai.ev
		BuildDuration: 500
		BuildDurationModifier: 100
	Valued:
		Cost: 1000
	DeliversCash:
		Payload: 1000
		Voice: Move
	Tooltip:
		Name: 前哨扩张车
	Tooltip@NoRow:
		Name: 前哨扩张车
	Selectable:
		Priority: 4
		Bounds: 1544, 2509, 0, -289
	Health:
		HP: 80000
	Armor:
		Type: Light
	Mobile:
		Speed: 90
		TurnSpeed: 32
		Locomotor: heavytracked
	Guard:
		Voice: Move
	Passenger:
		Weight: 3
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	MustBeDestroyed:
		RequiredForShortGame: true
	Transforms:
		Voice: Move
		IntoActor: expn
		Facing: 384
		TransformSounds: uplace.wav
		NoTransformNotification: BuildingCannotPlaceAudio
		PauseOnCondition: chronodisable || emp || terrordroned || controlled
	TransferTimedExternalConditionOnTransform@INVULNERABILITY:
		Condition: invulnerability
	TransferTimedExternalConditionOnTransform@INVISIBILITY:
		Condition: invisibility
	RenderSprites:
	RenderVoxels:
	WithVoxelBody:
	HitShape:
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
	GrantConditionOnMovement@MoveStart:
		Condition: moving
		ValidMovementTypes: Horizontal, Turn
	SoundAnnouncement:
		SoundFiles: vmcvstaa.wav
		Volume: 0.4
		RequiresCondition: moving
	AutoDeployer@AI:
		RequiresCondition: ai-control
		DeployTrigger: Attack
		DeployChance: 100
		DeployTicks: 5
		UndeployTicks: 50
	Armament@AIDummyAiming: ## Hack: Make AI ExpansionVehicle deploy
		RequiresCondition: ai-control
		Weapon: GroundDummyAim
	AttackFrontal:
		Voice: Move
		PauseOnCondition: chronodisable || emp
		FacingTolerance: 128
	AttackMove:
		Voice: Move
	ProvidesPrerequisite@AIbuildinglimit:
		RequiresCondition: ai-control
		Prerequisite: ai.ev

^MainBattleTank:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BUNKER: ^TankBunkerable
	Inherits@CHAOS: ^BerserkableVoxel
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@NOGUNNER: ^GunnerKillable
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Buildable:
		Queue: Vehicle
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 20
		Description: 主战坦克\n\n·强势对抗：载具、建筑、舰艇\n·弱势对抗：步兵、飞行器
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		TurnSpeed: 32
		Locomotor: heavytracked
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	Turreted:
		TurnSpeed: 28
	WithMuzzleOverlay:
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable || emp || nogunner || parachute
	AutoTarget:
	RenderSprites:
	RenderVoxels:
	WithVoxelBody:
	WithVoxelTurret:
	WithVoxelBarrel:
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	HitShape:
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
